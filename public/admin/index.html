<!DOCTYPE html>
<html>


   <head>
        
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title> KinoCinema </title>

        <link rel="stylesheet" href="index.css">

        <link rel="stylesheet" href="../global.css">

        <!-- update the version number as needed -->
        <script defer src="/__/firebase/8.0.2/firebase-app.js"></script>
        <!-- include only the Firebase features as you need -->
        <script defer src="/__/firebase/8.0.2/firebase-auth.js"></script>
        <script defer src="/__/firebase/8.0.2/firebase-database.js"></script>
        <script defer src="/__/firebase/8.0.2/firebase-firestore.js"></script>
        <script defer src="/__/firebase/8.0.2/firebase-functions.js"></script>
        <script defer src="/__/firebase/8.0.2/firebase-messaging.js"></script>
        <script defer src="/__/firebase/8.0.2/firebase-storage.js"></script>
        <script defer src="/__/firebase/8.0.2/firebase-analytics.js"></script>
        <script defer src="/__/firebase/8.0.2/firebase-remote-config.js"></script>
        <script defer src="/__/firebase/8.0.2/firebase-performance.js"></script>
        <!-- 
        initialize the SDK after all desired features are loaded, set useEmulator to false
        to avoid connecting the SDK to running emulators.
        -->
        <script defer src="/__/firebase/init.js?useEmulator=true"></script>

        <script defer src="index.js" type="text/javascript"></script>

        
    </head>
    




    <body class="dark">
        
        <div class="navbar"></div>
        
        <main>        
            <div id="headerX"></div>

            <ul id="editOptions">
                <li><a onclick=switchEditOption(1)>Add Movie</a></li>
                <li><a onclick=switchEditOption(2)>Edit Movie</a></li>
                <li><a onclick=switchEditOption(3)>Add Hall</a></li>
                <li><a onclick=switchEditOption(4)>Edit User Permissions</a></li>
            </ul>
            
            <div class="row">
                <div class="col-1">&nbsp;</div>
                <div class="col-14">
                    <div id="movieInformation">
                        <div class="flex">
                            <div class="flex">
                                <h1>Add Movie</h1>
                                <button class="button" id="Add" onclick = addMovie()>Add</button>
                            </div>
                            <div class="flex">
                                <div class="field">
                                    <input id="SearchInput" type="text" class="input" placeholder="Search for ..." required>
                                </div>
                                <button class="button" id="SearchButton" onclick = searchMovie()>Search</button>
                            </div>
                        </div>
                        
                        <div class="field">
                            <input id="Movie_Title" type="text" class="input" placeholder="Title" required>
                        </div>
                        <div class="field">
                            <textarea id="Movie_Description" rows="4" class="input layer1-back" placeholder="Description" required></textarea>
                        </div>
                        <div class="field">
                            <input id="Movie_Duration" type="number" class="input" placeholder="Duration" required>
                        </div>
                        <div class="field">
                            <input id="Movie_Category" type="text" class="input" placeholder="Category" required>
                        </div>
                        <div class="field">
                            <input id="Movie_Rating" type="number" class="input" placeholder="Rating" required>
                        </div>
                        <div class="field">
                            <input id="Movie_Cover_URL" type="text" class="input" placeholder="Cover URL" required>
                        </div>
                        <img src="" id="Movie_IMG">
                    </div>



                    <div id="editMovie" hidden>
                        <div class="flex">
                            <div class="flex">
                                <h1>Edit Movie</h1>
                            </div>
                            <div class="flex">
                                <div class="dropdown">
                                    <button class="dropdownButton">Movies</button>
                                    <div id="dropdown-content" class="dropdown-content">
                                        
                                    </div>
                                </div>
                                <div class="field">
                                    <input id="MovieIDInput" type="text" class="input" placeholder="Movie ID ..." required>
                                </div>
                                <button class="button" id="SearchButton" onclick = loadDatabaseMovie()>Load</button>
                            </div>
                        </div>

                        <div id="editMovieContent" hidden>
                            <div class="field">
                                <input id="EDIT_Movie_Title" type="text" class="input" placeholder="Title" required>
                            </div>
                            <div class="field">
                                <textarea id="EDIT_Movie_Description" rows="4" class="input layer1-back" placeholder="Description" required></textarea>
                            </div>
                            <div class="field">
                                <input id="EDIT_Movie_Duration" type="number" class="input" placeholder="Duration" required>
                            </div>
                            <div class="field">
                                <input id="EDIT_Movie_Category" type="text" class="input" placeholder="Category" required>
                            </div>
                            <div class="field">
                                <input id="EDIT_Movie_Rating" type="number" class="input" placeholder="Rating" required>
                            </div>
                            <div class="field">
                                <input id="EDIT_Movie_Cover_URL" type="text" class="input" placeholder="Cover URL" required>
                            </div>
                            <button class="button" id="UpdateCoverButton" onclick = uploadCover()>Upload Cover</button>
                            <input id="EDIT_Movie_Cover_Upload" type="file" class="input" placeholder="Upload Cover">
                            <img src="" id="EDIT_Movie_IMG">
                        </div>
                        <button class="button" id="UpdateInformationButton" onclick = updateInformationOfMovie() hidden>Update Information</button>
                        <div id="editScreenings" hidden>
                            <h1>Screenings</h1>

                            <div class="flex">
                                <div id="dropdownHallsADD" class="dropdown">
                                    <button class="dropdownButton">Halls</button>
                                    <div id="dropdownHallsADD-content" class="dropdown-content">
                                        
                                    </div>
                                </div>
                                <div class="field">
                                    <input id="EDIT_ADD_Screening_Hall" type="text" class="input" placeholder="Hall ID" required>
                                </div>
                                <div class="field">
                                    <input id="EDIT_ADD_Screening_Price" type="number" class="input" placeholder="Price" required>
                                </div>
                                <div class="field">
                                    <input id="EDIT_ADD_Screening_StartTime" type="datetime-local" class="input" placeholder="Start Time" required>
                                </div>
                                <div class="field">
                                    <input id="EDIT_ADD_Repetitions" type="number" class="input" placeholder="Repetitions" required>
                                </div>
                                <div id="dropdownIncrements" class="dropdown">
                                    <button class="dropdownButton">Increment</button>
                                    <div id="dropdownIncrements-content" class="dropdown-content">
                                        <a onclick="selectDropdownIncrement(604800000)">Weekly</a>
                                        <a onclick="selectDropdownIncrement(86400000)">Daily</a>
                                    </div>
                                </div>
                                <div class="field">
                                    <input id="EDIT_ADD_Increment" type="number" class="input" placeholder="Increment" required>
                                </div>
                                <button class="button" id="AddScreeningsButton" onclick = addScreenings()>ADD</button>
                            </div>

                            <div class="flex">
                                <div id="dropdownHalls" class="dropdown">
                                    <button class="dropdownButton">Halls</button>
                                    <div id="dropdownHalls-content" class="dropdown-content">
                                        
                                    </div>
                                </div>
                                <div class="field">
                                    <input id="EDIT_Screening_Hall" type="text" class="input" placeholder="Hall" required>
                                </div>
                                <div class="field">
                                    <input id="EDIT_Screening_Price" type="text" class="input" placeholder="Price" required>
                                </div>
                                <div class="field">
                                    <input id="EDIT_Screening_StartTime" type="datetime-local" class="input" placeholder="Start Time" required>
                                </div>

                                <button class="button" id="UpdateScreeningButton" onclick = updateScreeningInformation()>Update</button>

                            </div>
                            
                            <table id="screeningsTable">
                                <tr>
                                    <th onclick="sortTable(0)">ID</th>
                                    <th onclick="sortTable(1)">Hall</th>
                                    <th onclick="sortTable(2)">Price</th>
                                    <th onclick="sortTable(3)">Start Time</th>
                                </tr>
                            </table>
                        </div>

                    </div>
                    <div id="addHall" hidden>
                        <div class="row">
                            <div class="col-8">
                                <button class="button" id="addHallButton" onclick = addHall()>ADD Hall</button>
                                <div class="field">
                                    <input id="ADD_Hall_Name" type="text" class="input" placeholder="Name" required>
                                </div>
                                <div class="field">
                                    <input id="ADD_Hall_Width" type="number" class="input" placeholder="Width" required>
                                </div>
                                <div id="dropdownRowTypes" class="dropdown">
                                    <button class="dropdownButton">Row Types</button>
                                    <div id="dropdownRowTypes-content" class="dropdown-content">
                                        <a onclick="selectDropdownRowType('normal')">Normal</a>
                                        <a onclick="selectDropdownRowType('lodge')">Loge</a>
                                        <a onclick="selectDropdownRowType('withspecialneeds')">Special</a>
                                    </div>
                                </div>
                                <div class="field">
                                    <input id="ADD_Row_Type" type="text" class="input" placeholder="Row Type" required>
                                </div>
                                <div class="field">
                                    <input id="ADD_Row_Count" type="number" class="input" placeholder="Row Count" required>
                                </div>
                                <button class="button" id="addRowButton" onclick = addRow()>ADD Row</button>
                                <button class="button" id="previewButton" onclick = seatGeneration()>Preview</button>
                            </div>
                            <div class="col-8">
                                <table id="rowsTable">
                                    <tr>
                                        <th>Row Type</th>
                                        <th>Count</th>
                                    </tr>
                                </table>
                                <button class="button" id="removeLastRowButton" onclick = removeLastRow()>Remove Last Row</button>
                            </div>
                        </div>
                        
                        <div id="seatContainer">

                        </div>
                    </div>

                    <div id="editUserPermissions" hidden>
                        <div class="flex">
                            <div class="flex">
                                <h1>Edit User Permissions</h1>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-8">
                                <button class="button" id="promoteToAdmin" onclick = promoteToAdmin()>Promote User to Admin</button>
                                <button class="button" id="degradeToUser" onclick = degradeToUser()>Degrade Admin to User</button>
                                <div class="field">
                                    <input id="EDIT_PERMISSION_UID" type="text" class="input" placeholder="userID" required>
                                </div>   
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </main>

        <footer id="footer"></footer>



        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script type="text/javascript" charset="utf-8"> 
            (function($) {
                $(".navbar").load("../snippets/navbar.html", function() {
                    $("#logo").load("../snippets/navLogo.html");
                    $("#Program").load("../snippets/navProgram.html");
                    $("#Account").load("../snippets/navAccount.html");
                    $("#Info").load("../snippets/navInfo.html");
                    $("#Search").load("../snippets/navSearch.html");
                    $("#themeButton").load("../snippets/navThemeButton.html");
                }); 
                $("#footer").load("../snippets/footer.html");
                $("#headerX").load("../snippets/header.html");
            }(jQuery));
        </script>
        
    </body>
</html>
